<?xml version="1.0" encoding="UTF-8"?>
<PermissionSet xmlns="http://soap.sforce.com/2006/04/metadata">
    <label>UHT Admin</label>
    <description>Full access to Ultimate History Tracker: configure tracking, deploy triggers, and view change logs.</description>
    <hasActivationRequired>false</hasActivationRequired>
    <license>Salesforce</license>

    <!-- Apex Class Access -->
    <classAccesses>
        <apexClass>UHT_AdminController</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_CDC_Availability</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_CDC_EventParser</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_CDC_Handler</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_CDC_Router</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_DeploymentRestService</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_DeploymentStatusPoller</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_Generic_CDC_Handler</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_NamingHelper</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_TriggerDeploymentService</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>UHT_TriggerGenerator</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>MetadataService</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>Zippex</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>Puff</apexClass>
        <enabled>true</enabled>
    </classAccesses>
    <classAccesses>
        <apexClass>HexUtil</apexClass>
        <enabled>true</enabled>
    </classAccesses>

    <!-- UHT Change Log - Full Access -->
    <objectPermissions>
        <object>UHT_Change_Log__c</object>
        <allowCreate>true</allowCreate>
        <allowDelete>true</allowDelete>
        <allowEdit>true</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>true</modifyAllRecords>
        <viewAllRecords>true</viewAllRecords>
    </objectPermissions>

    <!-- UHT Deployment Log - Full Access -->
    <objectPermissions>
        <object>UHT_Deployment_Log__c</object>
        <allowCreate>true</allowCreate>
        <allowDelete>true</allowDelete>
        <allowEdit>true</allowEdit>
        <allowRead>true</allowRead>
        <modifyAllRecords>true</modifyAllRecords>
        <viewAllRecords>true</viewAllRecords>
    </objectPermissions>

    <!-- UHT Change Log Fields -->
    <fieldPermissions>
        <field>UHT_Change_Log__c.Change_Timestamp__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Change_Type__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Commit_Number__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Commit_User_Id__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.New_Value__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Old_Value__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Tracked_Field__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Tracked_Object__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Change_Log__c.Tracked_Record_Id__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>

    <!-- UHT Deployment Log Fields -->
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Completed_At__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Deployment_Id__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Error_Message__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Initiated_At__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Object_Name__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Status__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>
    <fieldPermissions>
        <field>UHT_Deployment_Log__c.Trigger_Name__c</field>
        <editable>true</editable>
        <readable>true</readable>
    </fieldPermissions>

    <!-- Tab Visibility -->
    <tabSettings>
        <tab>UHT_Admin_Console</tab>
        <visibility>Visible</visibility>
    </tabSettings>
    <tabSettings>
        <tab>UHT_Change_Log__c</tab>
        <visibility>Visible</visibility>
    </tabSettings>
    <tabSettings>
        <tab>UHT_Deployment_Log__c</tab>
        <visibility>Visible</visibility>
    </tabSettings>

</PermissionSet>